<!--Assign Subject-->

{% comment %} <div class="content-page" id="assignPage"> {% endcomment %}
  <h2>Assign Subject</h2>
  <form method="POST" action="{% url 'add_subject' %}">
    {% csrf_token %}

    <select name="subject" required>
      <option value="" disabled selected>Select Subject</option>
      {% for s in subjects_list %}
      <option value="{{ s.id }}">
        {{ s.subject_name }} ({{ s.subject_code }})
      </option>
      {% endfor %}
    </select>

    <select name="assigned_class" required>
      <option value="" disabled selected>Select Class</option>
      {% for cls in classes %}
      <option value="{{ cls.id }}">
        {{ cls.class_name }} {{ cls.section }}
      </option>
      {% endfor %}
    </select>

    <select name="teacher">
      <option value="" disabled selected>Select Teacher</option>
      {% for t in users_teacher %}
      <option value="{{ t.id }}">{{ t.name }}</option>
      {% endfor %}
    </select>

    <button type="submit">Add Subject</button>
  </form>

  <table>
    <tr>
      <th>ID</th>
      <th>Subject</th>
      <th>Class</th>
      <th>Teacher</th>
      <th>Actions</th>
    </tr>
    {% for sub in subjects %}
    <tr>
      <td>{{ sub.id }}</td>
      <td>{{ sub.subject.subject_name }}</td>
      <td>
        {{ sub.assigned_class.class_name }} {{sub.assigned_class.section}}
      </td>
      <td>{% if sub.teacher %}{{ sub.teacher.name }}{% else %}-{% endif %}</td>
      <td>
        <a href="{% url 'edit_subject' sub.id %}">Edit</a>
        <a href="{% url 'delete_subject' sub.id %}">Delete</a>
      </td>
    </tr>
    {% endfor %}
  </table>
{% comment %} </div> {% endcomment %}
