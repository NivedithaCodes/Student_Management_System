{% comment %} {% extends "base/base.html" %} {% endcomment %}
{% block content %}
{% load static %}
<div class="profile-edit-wrapper">
    <div class="profile-edit-card">

        <!-- Photo Section -->
        <div class="photo-section">
            {% if user.photo %}
                <img src="{{ user.photo.url }}" class="profile-photo" alt="Profile Photo">
            {% else %}
                <div class="profile-initial">{{ user.name|slice:":1"|upper }}</div>
            {% endif %}
        </div>

        <!-- Upload Photo -->
        <form method="POST" enctype="multipart/form-data" class="profile-form">
            {% csrf_token %}
            <label class="upload-photo">
                <i class="fa fa-camera"></i> Change Photo
                <input type="file" name="photo" accept="image/*">
            </label>

            <!-- User Info -->
            <div class="form-group">
                <label>Name</label>
                <input type="text" name="name" value="{{ user.name }}" required>
            </div>

            <div class="form-group">
                <label>Email</label>
                <input type="email" name="email" value="{{ user.email }}" required>
            </div>

            <div class="form-group">
                <label>Mobile</label>
                <input type="text" name="mobile" value="{{ user.mobile }}">
            </div>

            <div class="form-group">
                <label>Date of Birth</label>
                <input type="date" name="dob" value="{{ user.dob|date:'Y-m-d' }}">
            </div>

            {% if user.role == "student" %}
            <div class="form-group">
                <label>Class</label>
                <input type="text" value="{{ user.class_name.class_name }} {{ user.class_name.section }}" disabled>
            </div>
            {% elif user.role == "teacher" %}
            <div class="form-group">
                <label>Subject</label>
                <input type="text" value="{{ user.subject }}" disabled>
            </div>
            {% endif %}

            <button type="submit" class="btn-save">Save Changes</button>
        </form>

    </div>
</div>
{% endblock %}
